(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{20:function(e,t,n){},23:function(e,t,n){e.exports=n.p+"static/media/petful-cat-dog.b5752275.jpg"},26:function(e,t,n){e.exports=n(42)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(22),o=n.n(s),c=n(14),i=n(3),l=n(4),u=n(6),p=n(5),m=n(7),h=n(12),d=n(23),f=n.n(d),v="https://petful-adoption.herokuapp.com/api",g={postNewPerson:function(e){return fetch("".concat(v,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},postQueuedPerson:function(e){return fetch("".concat(v,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},getUsersInline:function(){return fetch("".concat(v,"/people"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},getUsersPlace:function(e){return fetch("".concat(v,"/people/").concat(e),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))}},b=r.a.createContext({nameSubmitted:null,availDog:{},allOtherDogs:[],availCat:{},allOtherCats:[],person:"",personPosition:"",people:[],succesfulAdopt:null,adoptee:{},human:"",interval1:null,interval2:null,setAvailDog:function(){},setAllOtherDogs:function(){},setAvailCat:function(){},setAllOtherCats:function(){},setPerson:function(){},setPeople:function(){},setInterval1:function(){},setInterval2:function(){}}),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={availDog:{},allOtherDogs:[],availCat:{},allOtherCats:[],person:"",personPosition:"",people:[],interval1:null,interval2:null},n.setAvailDog=function(e){n.setState({availDog:e})},n.setAllOtherDogs=function(e){n.setState({allOtherDogs:e})},n.setAvailCat=function(e){n.setState({availCat:e})},n.setAllOtherCats=function(e){n.setState({allOtherCats:e})},n.setPerson=function(e){n.setState({person:e})},n.setPersonPosition=function(e){n.setState({personPosition:e})},n.setPeople=function(e){n.setState({people:e})},n.setInterval1=function(e){n.setState({interval1:e})},n.setInterval2=function(e){n.setState({interval2:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}},{key:"addPeopleToQueue",value:function(){var e=this,t=this.makeid(7);g.postNewPerson({name:t}),g.getUsersInline().then((function(t){e.setPeople(t),e.setState({people:t})}))}},{key:"render",value:function(){var e={availDog:this.state.availDog,allOtherDogs:this.state.allOtherDogs,availCat:this.state.availCat,allOtherCats:this.state.allOtherCats,person:this.state.person,personPosition:this.state.personPosition,people:this.state.people,interval1:this.state.interval1,interval2:this.state.interval2,setAvailDog:this.setAvailDog,setAllOtherDogs:this.setAllOtherDogs,setAvailCat:this.setAvailCat,setAllOtherCats:this.setAllOtherCats,setPerson:this.setPerson,setPersonPosition:this.setPersonPosition,setPeople:this.setPeople,setInterval1:this.setInterval1,setInterval2:this.setInterval2};return r.a.createElement(b.Provider,{value:e},this.props.children)}}]),t}(a.Component),x=b,y=(n(20),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"Home_header"},"Welcome to Petful"),r.a.createElement("p",{className:"Home_description"},"We work on a first in, first out basis.",r.a.createElement("br",{className:"desc_break"}),"Only the Cats and Dogs who have been here the longest get adopted first.",r.a.createElement("br",null),"We hope you find your new furry family member!"),r.a.createElement("div",{className:"Home_image"},r.a.createElement("img",{src:f.a,alt:"cute cat and dog"})),r.a.createElement("div",{className:"Home_button_container"},r.a.createElement("label",{className:"Home_label"},"Click  Below to Begin the Adoption Process"),r.a.createElement("button",{type:"button",className:"Home_button"},r.a.createElement(c.b,{to:"/adoption-page",className:"Home_button"},"Adoptable Pets"))))}}]),t}(a.Component));y.contextType=x;var A=n(2),E=n.n(A),N=n(11),O=(n(37),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"NextAvail"},r.a.createElement("div",{className:"Next_info_container"},r.a.createElement("img",{src:this.props.image,alt:"available pet",className:"Next_avail_image"}),r.a.createElement("p",{className:"Next_info"},"Name: ",this.props.name),r.a.createElement("p",{className:"Next_info"},"Age: ",this.props.age),r.a.createElement("p",{className:"Next_info"},"Breed: ",this.props.breed),r.a.createElement("p",{className:"Next_info"},this.props.description),r.a.createElement("p",{className:"Next_info"},"Sex: ",this.props.gender),r.a.createElement("p",{className:"Next_info"},this.props.name,"'s Story: ",this.props.story)))}}]),t}(a.Component)),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"UserList_container"},r.a.createElement("p",{className:"UserList_info",style:{margin:"5px 0",textAlign:"center"}},this.props.name)))}}]),t}(a.Component),k=(n(38),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"UsersPlace_container"},r.a.createElement("h3",{className:"UsersPlace_header"},"Keep track of how long until you can adopt"),r.a.createElement("p",{className:"UsersPlace_name"},"Name: ",this.props.name),r.a.createElement("span",{className:"UsersPlace_place"},"Your place in line: ",this.props.position))}}]),t}(a.Component)),_=(n(39),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"InlinePets_container"},r.a.createElement("div",{className:"InlinePets_info name"},r.a.createElement("p",{className:"title"},"Name:"),r.a.createElement("div",{className:"content"},this.props.name)),r.a.createElement("div",{className:"InlinePets_info"},r.a.createElement("p",{className:"title"},"Breed:"),r.a.createElement("div",{className:"content"},this.props.breed)),r.a.createElement("div",{className:"InlinePets_info age"},r.a.createElement("p",{className:"title"},"Age:"),r.a.createElement("div",{className:"content"},this.props.age))))}}]),t}(a.Component)),C={getNextAvailDog:function(){return fetch("".concat(v,"/pets/dog"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},getAllOtherDogs:function(){return fetch("".concat(v,"/pets/dogs"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},adoptedDog:function(){return fetch("".concat(v,"/pets/dog/adopt"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))}},S={getNextAvailCat:function(){return fetch("".concat(v,"/pets/cat"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},getAllOtherCats:function(){return fetch("".concat(v,"/pets/cats"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))},adoptedCat:function(){return fetch("".concat(v,"/pets/cat/adopt"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.error({err:e})}))}},D=(n(40),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).renderNameInput=function(){return r.a.createElement("section",{className:"AP_name_input"},r.a.createElement("form",{onSubmit:function(e){return n.handleNameSubmit(e)},className:"Name_input_form"},r.a.createElement("label",null,"Submit your name below to be added to the adoption line"),r.a.createElement("input",{type:"text",name:"name"}),r.a.createElement("button",{type:"submit",className:"AP_adopt_button"},"Submit")))},n.state={nameSubmitted:!1,person:"",personPosition:null,people:[],successfulAdopt:!1,adoptee:{},human:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a,r,s,o,c,i,l,u,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,n=t.setAvailCat,a=t.setAvailDog,r=t.setAllOtherCats,s=t.setAllOtherDogs,o=t.setPeople,e.next=3,S.getNextAvailCat();case 3:return c=e.sent,e.next=6,C.getNextAvailDog();case 6:return i=e.sent,e.next=9,S.getAllOtherCats();case 9:return l=e.sent,e.next=12,C.getAllOtherDogs();case 12:return u=e.sent,e.next=15,g.getUsersInline();case 15:p=e.sent,n(c),a(i),r(l),s(u),o(p),this.setState({people:p});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNameSubmit",value:function(){var e=Object(N.a)(E.a.mark((function e(t){var n,a,r,s,o,c,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.context,a=n.setPerson,r=n.setPersonPosition,s=n.setPeople,o=t.target.name.value,c={person:o},t.target.name.value="",e.next=7,g.postNewPerson(c);case 7:return e.next=9,g.getUsersPlace(c.person);case 9:return i=e.sent,e.next=12,a(i.name);case 12:return e.next=14,r(i.position);case 14:return e.next=16,g.getUsersInline();case 16:return l=e.sent,e.next=19,s(l);case 19:this.setState({nameSubmitted:!0,person:i.name,personPosition:i.position,people:l}),this.startInterval1();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startInterval1",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.setInterval1,n=setInterval((function(){a.incrementNextCat()}),2e3),e.next=4,t(n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}},{key:"addPeopleToQueue",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.setPeople,n=this.makeId(7),a={person:n},console.log(a,"new person being added in interval 2"),e.next=6,g.postNewPerson(a);case 6:return e.next=8,g.getUsersInline();case 8:r=e.sent,console.log(r,"people in line in add ppl to queue interval"),t(r),this.setState({people:r});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startInterval2",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setting interval 2"),t=this.context.setInterval2,n=setInterval((function(){a.addPeopleToQueue()}),2e3),e.next=5,t(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementNextCat",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,n=t.setAvailCat,a=t.setAllOtherCats,this.setState({adoptionOccurring:!0}),e.next=4,S.adoptedCat();case 4:return e.next=6,S.getNextAvailCat();case 6:return r=e.sent,n(r),e.next=10,S.getAllOtherCats();case 10:return s=e.sent,a(s),e.next=14,this.updatePeople();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updatePeople",value:function(){var e=Object(N.a)(E.a.mark((function e(){var t,n,a,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,n=t.setPersonPosition,a=t.setPeople,e.next=3,g.getUsersPlace(this.state.person);case 3:return r=e.sent,e.next=6,n(r.position);case 6:return e.next=8,g.getUsersInline();case 8:return s=e.sent,console.log(s,"people in line from server in update people"),e.next=12,a(s);case 12:this.setState({personPosition:r.position,adoptionOccurring:!1,people:s}),1!=this.state.personPosition&&1!=s.length||(console.log("setting interval 2 - adding ppl to list"),this.startInterval2());case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePetActuallyClicked",value:function(){var e=Object(N.a)(E.a.mark((function e(t){var n,a,r,s,o,c,i,l,u,p,m,h,d,f,v;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.context,a=n.setAvailCat,r=n.setAllOtherCats,s=n.setAvailDog,o=n.setAllOtherDogs,c=n.setPerson,i=n.setPersonPosition,l=n.setPeople,"cat"!==t){e.next=20;break}return e.next=4,S.adoptedCat();case 4:return u=e.sent,console.log(t,u,"kind and adoption details"),this.setState({successfulAdopt:!0,adoptee:u.adoptee,human:u.human}),e.next=9,S.getNextAvailCat();case 9:return p=e.sent,e.next=12,S.getAllOtherCats();case 12:return m=e.sent,console.log(p,m,"!!!"),e.next=16,a(p);case 16:return e.next=18,r(m);case 18:e.next=40;break;case 20:if("dog"!==t){e.next=39;break}return e.next=23,C.adoptedDog();case 23:return h=e.sent,console.log(t,h,"kind and adoption details - DOG"),this.setState({successfulAdopt:!0,adoptee:h.adoptee,human:h.human}),e.next=28,C.getNextAvailDog();case 28:return d=e.sent,e.next=31,C.getAllOtherDogs();case 31:return f=e.sent,console.log(d,f,"!!!"),e.next=35,s(d);case 35:return e.next=37,o(f);case 37:e.next=40;break;case 39:console.log("error occuring in handlePetActuallyClicked");case 40:return e.next=42,g.getUsersInline();case 42:return v=e.sent,console.log(v,"people in petActuallyClicked!!!"),e.next=46,c("");case 46:return e.next=48,i("");case 48:return e.next=50,l(v);case 50:this.setState({person:"",personPosition:null,people:v,nameSubmitted:!1});case 51:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClearSuccess",value:function(){this.setState({successfulAdopt:!1})}},{key:"renderSuccessAdopt",value:function(e,t){var n=this;return r.a.createElement("div",{className:"AP_success_adopt"},r.a.createElement("p",null,"Yay! ",t," was adopted by ",e,"!"),r.a.createElement("span",{onClick:function(e){return n.handleClearSuccess()}}," X "))}},{key:"render",value:function(){var e=this,t=this.context,n=t.availDog,a=t.allOtherDogs,s=t.availCat,o=t.allOtherCats,c=t.interval1,i=t.interval2,l=this.state,u=l.person,p=l.personPosition,m=l.people;return(1==p||m.length<=1)&&clearInterval(c),this.state.people.length>=5&&clearInterval(i),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"AP_header_container"},r.a.createElement("h2",{className:"AP_header"},"Adoptable Pets"),r.a.createElement("h3",{className:"AP_description"},"Only the first human in line will be able to adopt a dog or cat. Once they have adopted their new furry friend, they will be removed from the line. Any humans not first in line will be unable to adopt until it is their turn."," ")),this.state.nameSubmitted?r.a.createElement("div",null,r.a.createElement(k,{name:this.state.person,position:this.state.personPosition,key:u})):this.renderNameInput(),r.a.createElement("div",{className:"AP_people"},r.a.createElement("div",{className:"AP_people_inline"},r.a.createElement("h4",{className:"AP_people_inline_header",style:{color:"#8CBCB9"}},"People in line:"," "),m.map((function(e,t){return r.a.createElement(j,{key:t,name:e})})))),this.state.successfulAdopt&&this.renderSuccessAdopt(this.state.human,this.state.adoptee.name),r.a.createElement("div",{className:"AP_pets_container"},r.a.createElement("div",{className:"AP_cats"},r.a.createElement("p",{className:"AP_next_avail"},"Adoptable Cat"),r.a.createElement(O,{name:s.name,age:s.age,breed:s.breed,desc:s.description,gender:s.gender,story:s.story,image:s.imageURL,key:s.name}),!!u&&1==p&&r.a.createElement("div",{className:"AP_adopt_button"},r.a.createElement("button",{className:"AP_adopt_button",type:"button",onClick:function(){return e.handlePetActuallyClicked("cat")}},"Adopt!")),r.a.createElement("p",{className:"AP_next_avail"},"Next Available Cats"),o.map((function(e){return r.a.createElement(_,{key:e.name,name:e.name,breed:e.breed,age:e.age})}))),r.a.createElement("div",{className:"AP_dogs"},r.a.createElement("p",{className:"AP_next_avail"},"Adoptable Dog"),r.a.createElement(O,{name:n.name,age:n.age,breed:n.breed,desc:n.description,gender:n.gender,story:n.story,image:n.imageURL,key:n.name}),1===p&&u?r.a.createElement("div",{className:"AP_adopt_button"},r.a.createElement("button",{className:"AP_adopt_button",type:"button",onClick:function(){return e.handlePetActuallyClicked("dog")}},"Adopt!")):null,r.a.createElement("p",{className:"AP_next_avail"},"Next Available Dogs"),a.map((function(e){return r.a.createElement(_,{name:e.name,breed:e.breed,age:e.age,key:e.name})})))))}}]),t}(a.Component));D.contextType=x;var w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"App"},r.a.createElement("header",{className:"Root_header"},r.a.createElement("div",null,"Petful")),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:y}),r.a.createElement(h.a,{path:"/adoption-page",component:D})))}}]),t}(a.Component);n(41);o.a.render(r.a.createElement(c.a,null,r.a.createElement(P,null,r.a.createElement(w,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.4166b6bc.chunk.js.map